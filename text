import org.jbpm.bpmn2.xml.BPMN2ProcessFactory;
import org.drools.io.impl.ByteArrayResource;
import org.kie.api.io.Resource;

private ValidationResponse validateBPMN(String content) {
    try {
        Resource resource = new ByteArrayResource(content.getBytes(StandardCharsets.UTF_8));
        BPMN2ProcessFactory factory = new BPMN2ProcessFactory();
        factory.addProcessFromXml(resource); // parse directly

        return new ValidationResponse(true, "BPMN", "Valid BPMN: no syntax errors");
    } catch (Exception e) {
        return new ValidationResponse(false, "BPMN",
                "Invalid BPMN: " + e.getMessage());
    }
}
